<div class="side_bar">
  <div class="user">
    <img class="img-circle" alt="img" src="<%= @student.imageLocation ? asset_path(@student.imageLocation) : asset_path("defaults/default_profile_picture.jpg") %>" height="120" width="120">
    <h2> <%= @student.firstName + " " + @student.lastName %> </h2>
    <h3> <%=@student.intendedDegree + " Student" %> </h3>
    <h3> <%= @student.PID  %> </h3>
    <div class="bottom-border"></div>
  </div>

  <div><a id="personal" data-toggle="pill" href="#basic_info"><div class="pillbutton">Personal Information</div></a></div>
  <div><a id="reqs" data-toggle="pill" href="#requirements"><div class="pillbutton">Degree Requirements</div></a></div>
  <div><a id="history" data-toggle="pill" href="#course_history"><div class="pillbutton">Course History</div></a></div>
  <div><a id="docs" data-toggle="pill" href="#documents"><div class="pillbutton">Documents</div></a></div>
  <div><a id="work" data-toggle="pill" href="#jobs"><div class="pillbutton">Jobs</div></a></div>
  <div><a href="http://cs.unc.edu/academics/graduate/ms-requirements/progress-forms/" target="_blank"><div class="pillbutton">Progress Forms</div></a></div>
  <div><a href="http://cs.unc.edu/academics/teaching-schedules/" target="_blank"><div class="pillbutton">List of Courses</div></a></div>
  <div><a href="http://cs.unc.edu/info-for/current-students/" target="_blank"><div class="pillbutton">Info for Current Graduate Students</div></a></div>
  <div><a href="http://handbook.unc.edu/" target="_blank"><div class="pillbutton">Graduate School Handbook</div></a></div>
  <div><a href="http://cs.unc.edu/academics/graduate/ms-requirements/course-categories/" target="_blank"><div class="pillbutton">Course Categories</div></a></div>
  <div><a href="/login" data-method="delete" ><div class="pillbutton"> Log Out </div></a></div>
  <!--<ul class="nav nav-pills">-->
    <!--<li class="active"><a id="personal" data-toggle="pill" href="#basic_info">Personal Information</a></li>-->
    <!--<li><a id="reqs" data-toggle="pill" href="#requirements"> Degree Requirements </a></li>-->
    <!--<li><a id="history" data-toggle="pill" href="#course_history"> Course History </a></li>-->
    <!--<li><a id="docs" data-toggle="pill" href="#documents">Documents</a></li>-->
    <!--<li><a id="work" data-toggle="pill" href="#jobs">Jobs</a></li>-->
    <!--<li><a id="progress-forms" target="_blank" href="http://cs.unc.edu/academics/graduate/ms-requirements/progress-forms/">Progress Forms</a></li>-->
    <!--<li><a id="lcourses" class='click'  href="http://cs.unc.edu/academics/teaching-schedules/">List of courses</a></li>-->
    <!--<li><a id="icurrent" class='click'  href="http://cs.unc.edu/info-for/current-students/">Info for current Graduate Students</a></li>-->
    <!--<li><a id="ghandbook" class='click' href="http://handbook.unc.edu/">Graduate School Handbook</a></li>-->
    <!--<li><a id="ccourses" class='click'  href="http://cs.unc.edu/academics/graduate/ms-requirements/course-categories/">Categories of Courses</a></li>-->
  <!--</ul>-->

</div>
<!-- SIDE BAR ends -->
<div class="container">
  <!--<p id="notice"><%= notice %></p>-->
  <div class="tab-content">

    <div id="basic_info" class="tab-pane fade in active">
      <ul class="nav nav-tabs">
        <li class="active"><a data-toggle="tab" href="#personal_info">Personal Information</a></li>
        <li><a data-toggle="tab" href="#upload_picture">Upload Profile Picture</a></li>
      </ul>
      <div class="tab-content">
        <div id="personal_info" class="tab-pane fade in active">
          <div class="panel panel-default">
            <div class="panel-body">
              <%= render 'formRead', student: @student %>
            </div>
          </div>
        </div>
        <div id="upload_picture" class="tab-pane fade">
          <div class="panel panel-default">
            <div class="panel-body">
              <%= render 'upload_photo', student: @student %>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="requirements" class="tab-pane fade in">
      <ul class="nav nav-tabs">
        <li class="active"><a data-toggle="tab" href="#masters">Masters</a></li>
        <li><a data-toggle="tab" href="#PhD">Ph.D</a></li>
        <li><a id="expand" onclick="expandAll()"> Expand All </a></li>
      </ul>
      <div class="tab-content">
        <!-- Masters TAB BEGINS -->
        <div id="masters" class="tab-pane fade in active">
          <div class="panel-group" id="accordion">
            <div class="panel panel-default">
              <div class="panel-heading">
                <h4 class="panel-title">
                  <a data-toggle="collapse" data-parent="#accordion" href="#course_work">
                    Course Work</a>
                </h4>
              </div>
              <div id="course_work" class="panel-collapse collapse in">
                <div class="panel-body">
                  <div class="checklist">
                    <div class="requirement">
                      <input type="checkbox" title ="requirementHrs" <%= if (@total_hours==30) then "checked" else "" end %> disabled="disabled">
                      <div class="requirement_description">
                        Minimum 30 hours total of courses conferring graduate credit. <em>[ Credit Hours Total: <%=@total_hours %> ]</em>
                      </div>
                    </div>
                    <div class="requirement">
                      <input type="checkbox" title ="theserequirementHrs" <%= if (@comp_hours==18) then "checked" else "" end %> disabled="disabled">
                      <div class="requirement_description">
                        Minimum 18 hours of COMP courses. (excluding 990, 991 sections) <em>[ COMP Credit Hours Total: <%=@comp_hours %> ]</em>
                      </div>
                    </div>
                    <div class="requirement">
                      <input type="checkbox" title ="catagoryreq" <%= if (@ntwo||@nthree) then "checked" else "" end %> disabled="disabled">
                      <div class="requirement_description">
                        Minimum 3 hours of COMP 992 or COMP 993 (formal thesis) - maximum of 6 hours <em>[<%= if (@ntwo) then "992" else end %><%= if (@nthree) then "993" else end %><%= if (!@ntwo && !@nthree) then "Neither 992/993 Taken" else end %> ]</em>
                      </div>
                    </div>
                    <div class="breadth"> Breadth Requirements [Note: At most one course in the set can be at the 500 level. The other courses must be at the 600 level or above.] </div>
                    <div class="wrapper">
                      <div class="requirement">
                        <input type="checkbox" title="catagoryreq" <%= if (@theory) then "checked" else "" end %> disabled="disabled">
                        <div class="requirement_description">
                          One Theory & Formal Thinking Course  <em>[ <%= if @theory then "Highest Number Course: " + @theory_course else "Course of this type not yet taken" end %> ]</em>
                        </div>
                      </div>
                      <div class="requirement">
                        <input type="checkbox" title ="catagoryreq2" <%= if (@systems) then "checked" else "" end %> disabled="disabled">
                        <div class="requirement_description">
                          One Systems & Hardware Course <em>[<%= if @systems then "Highest Number Course: " + @systems_course else "Course of this type not yet taken" end %> ]</em>
                        </div>
                      </div>
                      <div class="requirement">
                        <input type="checkbox"  title ="catagoryreq3" <%= if (@applications) then "checked" else "" end %> disabled="disabled">
                        <div class="requirement_description">
                          One Applications Course <em>[<%= if @applications then "Highest Number Course: " + @applications_course else "Course of this type not yet taken" end %> ]</em>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="panel panel-default">
              <div class="panel-heading">
                <h4 class="panel-title">
                  <a data-toggle="collapse" data-parent="#accordion" href="#program_requirements">
                    Program Requirements</a>
                </h4>
              </div>
              <div id="program_requirements" class="panel-collapse collapse">
                <div class="panel-body">
                  <div class="checklist">

                    <div class="requirement">
                      <input type="checkbox"  title ="formrec"  <%= if @doc_titles.include? "Background Preparation Worksheet" then "checked" else "" end %> disabled="disabled">
                      <div class="requirement_description">
                        Background Preparation Worksheet (CS-01)
                      </div>
                    </div>
                    <%# raise @doc_titles.inspect %>
                    <div class="requirement">
                      <input type="checkbox" title ="formrec2" <%= if @doc_titles.include? "M.S. Program of Study" then "checked" else "" end %> disabled="disabled">
                      <div class="requirement_description">
                        M.S. Program of Study (CS-03)
                      </div>
                    </div>
                    <div class="requirement">
                      <input type="checkbox" title ="formrec3" <%= if @doc_titles.include? "Program Product Requirement" then "checked" else "" end %> disabled="disabled">
                      <div class="requirement_description">
                        Program Product Requirement (CS-13)
                      </div>
                    </div>
                    <div class="requirement">
                      <input type="checkbox"  title ="formrec4" <%= if @doc_titles.include? "Technical Writing Requirement" then "checked" else "" end %> disabled="disabled">
                      <div class="requirement_description">
                        Writing Requirement (CS-08 or CS-04)
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

          </div>
        </div>
        <!-- Masters TAB ENDS -->
        <!-- Ph.D TAB BEGINS -->
        <div id="PhD" class="tab-pane fade">
          <div class="panel-group" >
            <div class="panel panel-default">
              <div class="panel-heading">
                <h4 class="panel-title">
                  <a > <%= if (@phdDate!="") then "Admitted to PhD program on " +@phdDate else "Not yet admitted to PhD program " end %>
                  </a>
                </h4>
              </div>
            </div>
            <div class="panel panel-default">
              <div class="panel-heading">
                <h4 class="panel-title">
                  <a data-toggle="collapse" data-parent="#accordion" href="#collapse1">
                    Course Work</a>
                </h4>
              </div>
              <div id="collapse1" class="panel-collapse collapse in">
                <div class="panel-body">
                  <div class="checklist">
                    <div class="requirement">
                      <input type="checkbox" title ="phdrec1" <%= if (@abd=="Yes") then "checked" else "" end %> disabled="disabled">
                      <div class="requirement_description">
                        ABD
                      </div>
                    </div>
                    <div class="requirement">
                      <input type="checkbox" title ="phdrec2"  <%= if (@nfour_taken) then "checked" else "" end %> disabled="disabled">
                      <div class="requirement_description">
                        Minimum 6 hours of COMP 994 (formal thesis) <em>[ 994 Credit Hours Total: <%=@nfour_hours %> ]</em>
                      </div>
                    </div>

                    <div class="breadth"> Breadth Requirements [Note: At most one course in the set can be at the 500 level. The other courses must be at the 600 level or above.] </div>
                    <div class="wrapper">
                      <div class="requirement">
                        <input type="checkbox"  title ="phdrec3" <%= if (@pTheory) then "checked" else "" end %> disabled="disabled">
                        <div class="requirement_description">
                          Theory & Formal Thinking Courses <em>[ Counted Courses:  <%=@theoryCourses %> ]</em>
                        </div>

                      </div>
                      <div class="requirement">
                        <input type="checkbox" title ="phdrec4"  <%= if (@pSystems) then "checked" else "" end %> disabled="disabled">
                        <div class="requirement_description">
                          Systems & Hardware Courses  <em>[ Counted Courses: <%=@systemCourses %> ]</em>
                        </div>

                      </div>
                      <div class="requirement">
                        <input type="checkbox" title ="phdrec5" <%= if (@pApplications) then "checked" else "" end %> disabled="disabled">
                        <div class="requirement_description">
                          Applications Courses  <em>[ Counted Courses: <%=@appCourses %> ]</em>
                        </div>

                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="panel panel-default">
              <div class="panel-heading">
                <h4 class="panel-title">
                  <a data-toggle="collapse" data-parent="#accordion" href="#collapse2">
                    Ph.D Program Requirements</a>
                </h4>
              </div>
              <div id="collapse2" class="panel-collapse collapse">
                <div class="panel-body">
                  <div class="checklist">

                    <div class="requirement">
                      <input type="checkbox"  title ="phdrec6" <%= if @doc_titles.include? "Background Preparation Worksheet" then "checked" else "" end %> disabled="disabled">
                      <div class="requirement_description">
                        Background Preparation Worksheet (CS-01)
                      </div>
                    </div>
                    <div class="requirement">
                      <input type="checkbox" title ="phdrec7"  <%= if @doc_titles.include? "Program Product Requirement" then "checked" else "" end %> disabled="disabled">
                      <div class="requirement_description">
                        Program Product Requirement (CS-13)
                      </div>
                    </div>

                    <div class="requirement">
                      <input type="checkbox"  title ="phdrec8" <%= if @doc_titles.include? "Ph.D. Program of Study" then "checked" else "" end %> disabled="disabled">
                      <div class="requirement_description">
                        PhD Program of Study (CS-06)
                      </div>
                    </div>
                    <div class="requirement">
                      <input type="checkbox" title ="phdrec9" <%= if (@committee=="Yes") then "checked" else "" end %> disabled="disabled">
                      <div class="requirement_description">
                        Proposal Approval and Committee Meeting
                      </div>
                    </div>
                    <div class="requirement">
                      <input type="checkbox" title ="phdrec10" <%= if (@oralExam=="Yes") then "checked" else "" end %> disabled="disabled">
                      <div class="requirement_description">
                        PhD Oral Comprehensive Exam
                      </div>
                    </div>
                    <div class="requirement">
                      <input type="checkbox" title ="phdrec11" <%= if (@prp=="Yes") then "checked" else "" end %> disabled="disabled">
                      <div class="requirement_description">
                        PRP Exam
                      </div>
                    </div>


                  </div>
                </div>
              </div>
            </div>
            <div class="panel panel-default">
              <div class="panel-heading">
                <h4 class="panel-title">
                  <a data-toggle="collapse" data-parent="#accordion" href="#collapse3">
                    Dissertation</a>
                </h4>
              </div>
              <div id="collapse3" class="panel-collapse collapse">
                <div class="panel-body">
                  <div class="checklist">
                    <!-- TODO: Finish the rest of the Requirements! -->
                    <div class="requirement">
                      <input type="checkbox" title="pdfrecdiss"<%= if (@diss=="Yes") then "checked" else "" end %> disabled="disabled">
                      <div class="requirement_description">
                        Dissertation defense
                      </div>
                    </div>
                    <div class="requirement">
                      <input type="checkbox" title="pdfrecdiss2"<%= if (@final=="Yes") then "checked" else "" end %> disabled="disabled">
                      <div class="requirement_description">
                        Final And Approved Dissertation Submitted
                      </div>
                    </div>

                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Ph.D TAB ENDS -->
      </div>
    </div>

    <div id="course_history" class="tab-pane fade">
      <ul class="nav nav-tabs">
        <li class="active"><a data-toggle="tab" href="#courses">Course History</a></li>

      </ul>
      <div class="tab-content">
        <div id="courses" class="tab-pane fade in active">
          <div class="panel panel-default">
            <div class="panel-body">

              <table class="ctable" style="width:75%">
                <tr class="ctable">
                  <th class="ctable">Course Name</th>
                  <th class="ctable">Course Number</th>
                  <th class="ctable">Professor</th>
                  <th class="ctable">Section</th>
                  <th class="ctable">Semester</th>
                  <th class="ctable">Category</th>
                </tr>
                <% @student.course_histories.all.each do |course| %>
                    <tr class="ctable">
                      <% subject = course.course_description %>
                      <% time = course.semester %>
                      <% professor = time.faculty %>
                      <td class="ctable"> <%= subject.name %></td>
                      <td class="ctable"> <%= subject.number %></td>
                      <td class="ctable"> <%= professor.slice(:firstName, :lastName).values.join(" ")%></td>
                      <td class="ctable"> <%= professor.sectionNumber %></td>
                      <td class="ctable"> <%= time.slice(:semester, :year).values.join(" ") %></td>
                      <td class="ctable"> <%= subject.category%></td>

                    </tr>
                <% end %>
              </table>
            </div>
          </div>
        </div>

      </div>
    </div>

    <div id="documents" class="tab-pane fade in">
      <ul class="nav nav-tabs">
        <li class="active"><a data-toggle="tab" href="#documents_tab"> Documents </a></li>
        <li ><a data-toggle="tab" href="#upload_doc"> Upload </a></li>
      </ul>
      <div class="tab-content">
        <div id="documents_tab" class="tab-pane fade in active">
          <div class="panel panel-default">
            <div class="panel-body noBreaks">
              <table class="ctable" style="width:75%">
                <tr class="ctable">
                  <th class="ctable">Document Type</th>
                </tr>
                <% @student.documents.all.each do |document| %>
                    <tr class="ctable">
                      <td class="ctable"><a target="_blank" href="<%= asset_path(document.location)%>"> <%= document.title %> </a> </td>

                      <td class="ctable touch"><%= link_to 'Delete', document, method: :delete, data: { confirm: 'Are you sure?' } %></td> <br/>
                    </tr>
                <% end %>
              </table>
            </div>
          </div>
        </div>
        <div id="upload_doc" class="tab-pane fade">
          <div class="panel panel-default">
            <div class="panel-body">
              <h2> Get Blank Documents</h2>
              <form action="http://cs.unc.edu/academics/graduate/ms-requirements/progress-forms/" method="get">
                <input type="submit" value="Get blank documents"
                       name="Submit" />
              </form>
              <h2> Add a Document </h2>
              <%= render 'documents/form', document: @document %>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="jobs" class="tab-pane fade in">
      <ul class="nav nav-tabs">
        <li class="active"><a data-toggle="tab" href="#jobs_tab">Jobs</a></li>

      </ul>
      <div class="tab-content">
        <div id="jobs_tab" class="tab-pane fade in active">
          <div class="panel panel-default">
            <div class="panel-body">
              <table class="ctable" style="width:75%">
                <tr class="ctable">
                  <th class="ctable">Position</th>
                  <th class="ctable">Semester</th>
                  <th class="ctable">Supervisor</th>
                  <th class="ctable">Class</th>
                </tr>
                <% @student.jobs.all.each do |job| %>       <!--Goes to the junction table between student and @course_descriptions and gets all the courses a student has taken and puts each one into a row respectively with the below format -->
                    <tr class="ctable">
                      <td class="ctable"> <%= job.position =%></td>
                      <td class="ctable"> <%= job.current =%></td>
                      <td class="ctable"> <%= job.supervisor =%></td>
                      <td class="ctable"> <%= job.course =%></td>
                    </tr>
                <% end %>
              </table>
            </div>
          </div>
        </div>

      </div>
    </div>

  </div>
</div>
<div id="myModal" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Select Existing Course</h4>
      </div>
      <div  id="class_search_results"class="modal-body">
        <p>Have courses shown here.</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>

  </div>
</div>